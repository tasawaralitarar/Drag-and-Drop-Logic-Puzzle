body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 20px;
    text-align: left;
}

.container {
    max-width: 900px;
    margin: 0 auto;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.puzzle-area {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
    direction: ltr; /* Ensure alignment is Left-to-Right for grid display */
}

#drop-grid {
    display: grid;
    grid-template-columns: repeat(4, 100px); /* 4x4 Grid */
    grid-template-rows: repeat(4, 100px);
    gap: 5px;
    border: 3px solid #3498db;
    padding: 5px;
    background-color: #ecf0f1;
}

/* Style for individual drop cells/targets */
.drop-target {
    width: 100px;
    height: 100px;
    background-color: #bdc3c7;
    border: 1px dashed #7f8c8d;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 0.8em;
    position: relative;
}

/* INVENTORY and DRAGGABLE PIECES */
#inventory {
    width: 250px;
    padding: 10px;
    background: #eaf2f8;
    border-radius: 5px;
    border: 1px solid #3498db;
    display: flex;
    flex-wrap: wrap;
    align-content: flex-start;
    justify-content: flex-start;
    gap: 10px;
}

.pipe-piece {
    width: 90px;
    height: 90px;
    background-color: #95a5a6;
    border: 2px solid #34495e;
    border-radius: 5px;
    cursor: grab;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    color: white;
}

/* Style for the piece when it is correctly placed in the drop target */
.pipe-piece-placed {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    cursor: pointer; /* Allows clicking for rotation */
    background-color: #2c3e50;
    background-size: cover;
    background-repeat: no-repeat;
    /* Rotation transform is added by JS */
}

/* Define pipe shapes using base64 SVG for visual clarity */
.type-I {
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><line x1='50' y1='10' x2='50' y2='90' stroke='#3498db' stroke-width='10'/></svg>");
}
.type-L {
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><polyline points='10 50, 50 50, 50 90' stroke='#3498db' stroke-width='10' fill='none'/></svg>");
}
.type-T {
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><line x1='10' y1='50' x2='90' y2='50' stroke='#3498db' stroke-width='10'/><line x1='50' y1='10' x2='50' y2='50' stroke='#3498db' stroke-width='10'/></svg>");
}

/* Dragging visual feedback */
.dragging {
    opacity: 0.5;
    transform: scale(1.1);
}

.win-message {
    color: green;
    font-weight: bold;
    font-size: 1.2em;
}
.start-cell {
    background-color: #1abc9c !important; /* Greenish blue for Start */
}
.end-cell {
    background-color: #e74c3c !important; /* Red for End */
}
/* Update the .pipe-piece style to show the background pipe image */
.pipe-piece {
    width: 90px;
    height: 90px;
    background-color: #95a5a6;
    border: 2px solid #34495e;
    border-radius: 5px;
    cursor: grab;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    color: white;
    
    /* ADD these two lines to make the pipe image visible in the inventory */
    background-size: 80%; /* Make pipe smaller than container */
    background-position: center; 
    background-repeat: no-repeat;
}

/* Ensure type-X classes are correctly defined for inventory items */
.pipe-piece.type-I {
    /* Straight pipe - visible in inventory */
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><line x1='50' y1='10' x2='50' y2='90' stroke='white' stroke-width='10'/></svg>");
}
.pipe-piece.type-L {
    /* Corner pipe - visible in inventory */
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><polyline points='10 50, 50 50, 50 90' stroke='white' stroke-width='10' fill='none'/></svg>");
}
.pipe-piece.type-T {
    /* T-Junction pipe - visible in inventory */
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><line x1='10' y1='50' x2='90' y2='50' stroke='white' stroke-width='10'/><line x1='50' y1='10' x2='50' y2='50' stroke='white' stroke-width='10'/></svg>");
}


/* Style for the piece when it is correctly placed in the drop target */
.pipe-piece-placed {
    /* ... (Existing styles) ... */
    background-size: cover; /* Pipe should fill the drop cell */
}